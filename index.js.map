{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"48879353-852d93d42efc708c69048a712\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function fetchImages(query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n      },\n    });\n    return response.data.hits;\n  } catch (error) {\n    return [];\n  }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function renderImages(images) {\n  const gallery = document.getElementById(\"gallery\");\n  \n  if (images.length === 0) {\n    gallery.innerHTML = \"<p>No images found. Try another search.</p>\";\n    gallery.classList.add('visible');\n    return;\n  }\n\n  const markup = images\n    .map(\n      (img) => `\n      <a href=\"${img.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\"/>\n        <div class=\"info\">\n          <p>Likes: ${img.likes}</p>\n          <p>Views: ${img.views}</p>\n          <p>Comments: ${img.comments}</p>\n          <p>Downloads: ${img.downloads}</p>\n        </div>\n      </a>`\n    )\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n  gallery.classList.add('visible');\n\n  const lightbox = new SimpleLightbox(\".gallery-item\");\n  lightbox.refresh();\n}","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\ndocument.getElementById(\"search-form\").addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n\n  const query = document.getElementById(\"search-input\").value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: \"Warning\",\n      message: \"Please enter a search term!\",\n    });\n    return;\n  }\n\n  document.querySelector('header').classList.add('searched');\n  document.querySelector('main').classList.add('visible');\n\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n\n  gallery.innerHTML = ''; // Clear the gallery between requests\n  loader.style.display = 'block'; // Show the loader\n\n  try {\n    const images = await fetchImages(query);\n    renderImages(images);\n  } catch (error) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Failed to fetch images. Please try again later.\",\n    });\n  } finally {\n    loader.style.display = 'none'; // Hide the loader\n  }\n});"],"names":["API_KEY","BASE_URL","fetchImages","query","axios","renderImages","images","gallery","markup","img","SimpleLightbox","event","iziToast","loader"],"mappings":"+vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,GAAI,CAUF,OATiB,MAAMC,EAAM,IAAIH,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GACe,KAAK,IACtB,MAAe,CACd,MAAO,EACR,CACH,CCjBO,SAASE,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAEjD,GAAID,EAAO,SAAW,EAAG,CACvBC,EAAQ,UAAY,8CACpBA,EAAQ,UAAU,IAAI,SAAS,EAC/B,MACD,CAED,MAAMC,EAASF,EACZ,IACEG,GAAQ;AAAA,iBACEA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,sBAEhCA,EAAI,KAAK;AAAA,sBACTA,EAAI,KAAK;AAAA,yBACNA,EAAI,QAAQ;AAAA,0BACXA,EAAI,SAAS;AAAA;AAAA,WAGlC,EACA,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EACpBD,EAAQ,UAAU,IAAI,SAAS,EAEd,IAAIG,EAAe,eAAe,EAC1C,QAAO,CAClB,CC3BA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAU,MAAOC,GAAU,CACjFA,EAAM,eAAc,EAEpB,MAAMR,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAI,CAACA,EAAO,CACVS,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACf,CAAK,EACD,MACD,CAED,SAAS,cAAc,QAAQ,EAAE,UAAU,IAAI,UAAU,EACzD,SAAS,cAAc,MAAM,EAAE,UAAU,IAAI,SAAS,EAEtD,MAAML,EAAU,SAAS,cAAc,UAAU,EAC3CM,EAAS,SAAS,cAAc,SAAS,EAE/CN,EAAQ,UAAY,GACpBM,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMP,EAAS,MAAMJ,EAAYC,CAAK,EACtCE,EAAaC,CAAM,CACpB,MAAe,CACdM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRC,EAAO,MAAM,QAAU,MACxB,CACH,CAAC"}